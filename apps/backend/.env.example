# ═══════════════════════════════════════════════════════════════════════════════
# MANCHENGO SMART ERP - Backend Configuration
# ═══════════════════════════════════════════════════════════════════════════════

# Database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/manchengo?schema=public"

# ═══════════════════════════════════════════════════════════════════════════════
# JWT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
# IMPORTANT: Change these secrets in production!
# Generate secure secrets: openssl rand -base64 64
JWT_SECRET="your-super-secret-jwt-key-change-in-production-min-32-chars"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-in-production-min-32-chars"
JWT_REFRESH_EXPIRES_IN="1d"

# ═══════════════════════════════════════════════════════════════════════════════
# SERVER CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
PORT=3000
NODE_ENV=development

# ═══════════════════════════════════════════════════════════════════════════════
# CORS CONFIGURATION - SECURITY CRITICAL
# ═══════════════════════════════════════════════════════════════════════════════
# Comma-separated list of allowed origins
# In production, only list your actual frontend domains
# Example: CORS_ORIGINS=https://app.manchengo.dz,https://admin.manchengo.dz
CORS_ORIGINS="http://localhost:3001,http://localhost:3000"

# ═══════════════════════════════════════════════════════════════════════════════
# COOKIE CONFIGURATION (httpOnly cookies)
# ═══════════════════════════════════════════════════════════════════════════════
# Cookie domain - set to your domain in production (e.g., .manchengo.dz)
# Leave empty for localhost
COOKIE_DOMAIN=""

# ═══════════════════════════════════════════════════════════════════════════════
# RATE LIMITING
# ═══════════════════════════════════════════════════════════════════════════════
# Global rate limits (per IP)
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100
# Auth-specific rate limits
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_REFRESH_MAX=20

# ═══════════════════════════════════════════════════════════════════════════════
# QR CODE SECURITY
# ═══════════════════════════════════════════════════════════════════════════════
# Secret key for QR code checksum (SHA256)
# CRITICAL: Change this in production! Generate with: openssl rand -base64 32
# CRITICAL: Generate a unique secret! NEVER use the example value in production.
# Generate with: openssl rand -base64 32
QR_SECRET_KEY=""

# ═══════════════════════════════════════════════════════════════════════════════
# REDIS CACHE
# ═══════════════════════════════════════════════════════════════════════════════
# Cache store: "redis" or "memory" (fallback)
CACHE_STORE="redis"

# Redis connection
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0

# Cache TTLs (in seconds)
CACHE_TTL_DEFAULT=300
CACHE_TTL_KPI=300
CACHE_TTL_CHART=600
CACHE_TTL_STOCK=180
CACHE_TTL_SALES=120

# ═══════════════════════════════════════════════════════════════════════════════
# ERROR MONITORING (Sentry)
# ═══════════════════════════════════════════════════════════════════════════════
# Leave empty to disable Sentry
SENTRY_DSN=""
